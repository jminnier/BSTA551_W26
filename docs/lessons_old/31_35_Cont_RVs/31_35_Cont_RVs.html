<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Meike Niederhausen and Nicky Wakim">
<meta name="dcterms.date" content="2024-11-13">

<title>Chapter 31-35: Some Important Continuous RVs – Introduction to Probability</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-3fe441e473be3bbd0e9f25180bb1109e.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-sm " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../images/bsta_550_hex_3.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Introduction to Probability</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../syllabus.html"> 
<span class="menu-text">Syllabus</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../instructors.html"> 
<span class="menu-text">Instructor</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../homeworks.html"> 
<span class="menu-text">Homework</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives">Learning Objectives</a>
  <ul class="collapse">
  <li><a href="#where-are-we" id="toc-where-are-we" class="nav-link" data-scroll-target="#where-are-we">Where are we?</a></li>
  </ul></li>
  <li><a href="#chapter-31-uniform-rvs" id="toc-chapter-31-uniform-rvs" class="nav-link" data-scroll-target="#chapter-31-uniform-rvs">Chapter 31: Uniform RVs</a>
  <ul class="collapse">
  <li><a href="#properties-of-continuous-uniform-rvs" id="toc-properties-of-continuous-uniform-rvs" class="nav-link" data-scroll-target="#properties-of-continuous-uniform-rvs">Properties of continuous uniform RVs</a></li>
  <li><a href="#identifying-continuous-uniform-rv-from-word-problems" id="toc-identifying-continuous-uniform-rv-from-word-problems" class="nav-link" data-scroll-target="#identifying-continuous-uniform-rv-from-word-problems">Identifying continuous uniform RV from word problems</a></li>
  <li><a href="#helpful-r-code" id="toc-helpful-r-code" class="nav-link" data-scroll-target="#helpful-r-code">Helpful R code</a></li>
  <li><a href="#bird-on-a-wire-tb-31.5" id="toc-bird-on-a-wire-tb-31.5" class="nav-link" data-scroll-target="#bird-on-a-wire-tb-31.5">Bird on a wire (TB 31.5)</a></li>
  </ul></li>
  <li><a href="#chapter-32-exponential-rvs" id="toc-chapter-32-exponential-rvs" class="nav-link" data-scroll-target="#chapter-32-exponential-rvs">Chapter 32: Exponential RVs</a>
  <ul class="collapse">
  <li><a href="#properties-of-exponential-rvs" id="toc-properties-of-exponential-rvs" class="nav-link" data-scroll-target="#properties-of-exponential-rvs">Properties of exponential RVs</a></li>
  <li><a href="#memoryless-property" id="toc-memoryless-property" class="nav-link" data-scroll-target="#memoryless-property">Memoryless Property</a></li>
  <li><a href="#identifying-exponential-rv-from-word-problems" id="toc-identifying-exponential-rv-from-word-problems" class="nav-link" data-scroll-target="#identifying-exponential-rv-from-word-problems">Identifying exponential RV from word problems</a></li>
  <li><a href="#helpful-r-code-1" id="toc-helpful-r-code-1" class="nav-link" data-scroll-target="#helpful-r-code-1">Helpful R code</a></li>
  <li><a href="#transformation-of-independent-exponential-rvs" id="toc-transformation-of-independent-exponential-rvs" class="nav-link" data-scroll-target="#transformation-of-independent-exponential-rvs">Transformation of independent exponential RVs</a></li>
  </ul></li>
  <li><a href="#chapter-33-gamma-rvs" id="toc-chapter-33-gamma-rvs" class="nav-link" data-scroll-target="#chapter-33-gamma-rvs">Chapter 33: Gamma RVs</a>
  <ul class="collapse">
  <li><a href="#properties-of-gamma-rvs" id="toc-properties-of-gamma-rvs" class="nav-link" data-scroll-target="#properties-of-gamma-rvs">Properties of gamma RVs</a></li>
  <li><a href="#identifying-gamma-rv-from-word-problems" id="toc-identifying-gamma-rv-from-word-problems" class="nav-link" data-scroll-target="#identifying-gamma-rv-from-word-problems">Identifying gamma RV from word problems</a></li>
  <li><a href="#helpful-r-code-2" id="toc-helpful-r-code-2" class="nav-link" data-scroll-target="#helpful-r-code-2">Helpful R code</a></li>
  <li><a href="#remarks" id="toc-remarks" class="nav-link" data-scroll-target="#remarks">Remarks</a></li>
  <li><a href="#sending-money-orders" id="toc-sending-money-orders" class="nav-link" data-scroll-target="#sending-money-orders">Sending money orders</a></li>
  <li><a href="#additional-resource" id="toc-additional-resource" class="nav-link" data-scroll-target="#additional-resource">Additional Resource</a></li>
  </ul></li>
  <li><a href="#chapter-35-normal-rvs" id="toc-chapter-35-normal-rvs" class="nav-link" data-scroll-target="#chapter-35-normal-rvs">Chapter 35: Normal RVs</a>
  <ul class="collapse">
  <li><a href="#properties-of-normal-rvs" id="toc-properties-of-normal-rvs" class="nav-link" data-scroll-target="#properties-of-normal-rvs">Properties of Normal RVs</a></li>
  <li><a href="#helpful-r-code-3" id="toc-helpful-r-code-3" class="nav-link" data-scroll-target="#helpful-r-code-3">Helpful R code</a></li>
  <li><a href="#movie-night-while-studying" id="toc-movie-night-while-studying" class="nav-link" data-scroll-target="#movie-night-while-studying">Movie night while studying</a></li>
  <li><a href="#standard-normal-distribution" id="toc-standard-normal-distribution" class="nav-link" data-scroll-target="#standard-normal-distribution">Standard Normal Distribution</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="31_35_Cont_RVs.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Chapter 31-35: Some Important Continuous RVs</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Meike Niederhausen and Nicky Wakim </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 13, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="learning-objectives" class="level1">
<h1>Learning Objectives</h1>
<ol type="1">
<li>Distinguish between Uniform, Exponential, Gamma, and Normal distributions when reading a story.</li>
<li>Identify the variable and the parameters in a story, and state what the variable and parameters mean.</li>
<li>Use the formulas for the pdf/CDF, expected value, and variance to answer questions and find probabilities.</li>
</ol>
<section id="where-are-we" class="level2">
<h2 class="anchored" data-anchor-id="where-are-we">Where are we?</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../img_slides/course_map.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="chapter-31-uniform-rvs" class="level1">
<h1>Chapter 31: Uniform RVs</h1>
<section id="properties-of-continuous-uniform-rvs" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-continuous-uniform-rvs">Properties of continuous uniform RVs</h2>
<ul>
<li><p><strong>Scenario:</strong> Events are equally likely to happen anywhere or anytime in an interval of values</p></li>
<li><p>Shorthand: <span class="math inline">\(X \sim \text{U}[a,b]\)</span></p></li>
</ul>
<p><span class="math display">\[
f_X(x) = \dfrac{1}{b-a}, \text{ for }a \leq x \leq b
\]</span></p>
<p><span class="math display">\[
F_X(x) = \left\{
        \begin{array}{ll}
            0 &amp; \quad x&lt;a \quad \\
            \dfrac{x-a}{b-a} &amp; \quad a \leq x \leq b\quad \\
            1 &amp; \quad x&gt;b \quad
        \end{array}
    \right.
\]</span></p>
<p><span class="math display">\[\text{E}(X) = \dfrac{a+b}{2} \text{, } \text{ Var}(X) = \dfrac{(b-a)^2}{12}\]</span></p>
</section>
<section id="identifying-continuous-uniform-rv-from-word-problems" class="level2">
<h2 class="anchored" data-anchor-id="identifying-continuous-uniform-rv-from-word-problems">Identifying continuous uniform RV from word problems</h2>
<ul>
<li><p>Look for some indication that all events are <strong>equally likely</strong></p>
<ul>
<li>Could also say “uniformly distributed”</li>
</ul></li>
<li><p>Look for an interval</p>
<ul>
<li><p><strong>Time example:</strong> Costumer in your store will approach the cash register in next 30 minutes. Approaching the register throughout the 30 minutes is equally likely.</p></li>
<li><p><strong>Length example:</strong> You have a 12 inch string that you need to cut. You are equally likely to cut anywhere on the string.</p></li>
</ul></li>
<li><p>Different than the discrete uniform</p>
<ul>
<li><p>Discrete usually includes a <em>countable</em> number of events that are equally likely</p></li>
<li><p>Continuous is not countable</p>
<ul>
<li>Exact time and length can be measured with infinite decimal places</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="helpful-r-code" class="level2">
<h2 class="anchored" data-anchor-id="helpful-r-code">Helpful R code</h2>
<p>Let’s say we’re looking at equally likely arrival times between 10 am and 11 am.</p>
<ul>
<li><p>If we want to know the probability that someone arrives at 10:30am or earlier:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">punif</span>(<span class="at">q =</span> <span class="dv">30</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.5</code></pre>
</div>
</div></li>
<li><p>If we want to know the time, say <span class="math inline">\(t\)</span>, where the probability of arriving at <span class="math inline">\(t\)</span> or earlier is 0.35:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qunif</span>(<span class="at">p =</span> <span class="fl">0.35</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 21</code></pre>
</div>
</div></li>
<li><p>If we want to know the probability that someone arrives between 10:14 and 10:16 am:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">punif</span>(<span class="at">q =</span> <span class="dv">16</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">60</span>) <span class="sc">-</span> <span class="fu">punif</span>(<span class="at">q =</span> <span class="dv">14</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.03333333</code></pre>
</div>
</div></li>
<li><p>If we want to sample 20 arrival times from the distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">runif</span>(<span class="at">n =</span> <span class="dv">20</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">60</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 32.344076 30.257801 33.239564 41.171104 51.175109 56.237454 52.591784
 [8]  6.168688 47.204869 21.843940 14.237919  3.566863 26.432725 45.246377
[15] 21.791561 54.575130 40.956728 41.026087 20.026951 16.720593</code></pre>
</div>
</div></li>
</ul>
</section>
<section id="bird-on-a-wire-tb-31.5" class="level2">
<h2 class="anchored" data-anchor-id="bird-on-a-wire-tb-31.5">Bird on a wire (TB 31.5)</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="example">
<div class="ex-title">
<p>Example 1</p>
</div>
<div class="ex-cont">
<p>A bird lands at a location that is Uniformly distributed along an electrical wire of length 150 feet. The wire is stretched tightly between two poles. What is the probability that the bird is 20 feet or less from one or the other of the poles?</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="chapter-32-exponential-rvs" class="level1">
<h1>Chapter 32: Exponential RVs</h1>
<section id="properties-of-exponential-rvs" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-exponential-rvs">Properties of exponential RVs</h2>
<ul>
<li><p><strong>Scenario:</strong> Modeling the time until the next (first) event</p></li>
<li><p>Continuous analog to the geometric distribution!</p></li>
<li><p>Shorthand: <span class="math inline">\(X \sim \text{Exp}(\lambda)\)</span></p></li>
</ul>
<p><span class="math display">\[
f_X(x) = \lambda e^{-\lambda x}\text{ for } x&gt;0, \lambda&gt;0
\]</span></p>
<p><span class="math display">\[
F_X(x) = \left\{
        \begin{array}{ll}
            0 &amp; \quad x&lt;0 \quad \\
            1 - e^{-\lambda x} &amp; \quad x\geq0 \\
        \end{array}
    \right.
\]</span></p>
<p><span class="math display">\[\text{E}(X) = \dfrac{1}{\lambda}\]</span> <span class="math display">\[\text{Var}(X) = \dfrac{1}{\lambda^2}\]</span></p>
</section>
<section id="memoryless-property" class="level2">
<h2 class="anchored" data-anchor-id="memoryless-property">Memoryless Property</h2>
<p>&nbsp; &nbsp;</p>
<p>If <span class="math inline">\(b&gt;0\)</span>,</p>
<p><span class="math display">\[P(X &gt; a +b | X&gt; a) = P(X &gt; b)\]</span></p>
<p>&nbsp; &nbsp; &nbsp;</p>
<ul>
<li><p><strong>This can be interpreted as:</strong></p>
<ul>
<li><p>If you have waited <span class="math inline">\(a\)</span> seconds (or any other measure of time) without a success</p></li>
<li><p>Then the probability that you have to wait <span class="math inline">\(b\)</span> more seconds is the same as as the probability of waiting <span class="math inline">\(b\)</span> seconds initially.</p></li>
</ul></li>
</ul>
</section>
<section id="identifying-exponential-rv-from-word-problems" class="level2">
<h2 class="anchored" data-anchor-id="identifying-exponential-rv-from-word-problems">Identifying exponential RV from word problems</h2>
<ul>
<li><p>Look for time between events/successes</p></li>
<li><p>Look for a rate of the events over time period</p></li>
<li><p>How does it differ from the geometric distribution?</p>
<ul>
<li><p>Geometric is <em>number of trials</em> until first success</p></li>
<li><p>Exponential is <em>time</em> until first success</p></li>
</ul></li>
<li><p>Relation to the Poisson distribution?</p>
<ul>
<li>When the time between arrivals is exponential, the number of arrivals in a fixed time interval is Poisson with the mean <span class="math inline">\(\lambda\)</span></li>
</ul></li>
</ul>
</section>
<section id="helpful-r-code-1" class="level2">
<h2 class="anchored" data-anchor-id="helpful-r-code-1">Helpful R code</h2>
<p>Let’s say we’re sitting at the bus stop, measuring the time until our bus arrives. We know the bus comes every 10 minutes on average.</p>
<ul>
<li><p>If we want to know the probability that the bus arrives in the next 5 minutes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pexp</span>(<span class="at">q =</span> <span class="dv">5</span>, <span class="at">rate =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3934693</code></pre>
</div>
</div></li>
<li><p>If we want to know the time, say <span class="math inline">\(t\)</span>, where the probability of the bus arriving at <span class="math inline">\(t\)</span> or earlier is 0.35:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qexp</span>(<span class="at">p =</span> <span class="fl">0.35</span>, <span class="at">rate =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4.307829</code></pre>
</div>
</div></li>
<li><p>If we want to know the probability that the bus arrives between 3 and 5 minutes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pexp</span>(<span class="at">q =</span> <span class="dv">5</span>, <span class="at">rate =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>) <span class="sc">-</span> <span class="fu">pexp</span>(<span class="at">q =</span> <span class="dv">3</span>, <span class="at">rate =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1342876</code></pre>
</div>
</div></li>
<li><p>If we want to sample 20 bus arrival times from the distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rexp</span>(<span class="at">n =</span> <span class="dv">20</span>, <span class="at">rate =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  6.1428488  5.7702809  4.7216306  0.1803120  8.0881904  6.6174270
 [7]  0.6382305 11.0979408 11.8187740 28.4106592  1.0032984  0.7278661
[13]  6.0539431  3.8940467  4.8817649  8.8015558 25.1247100  2.9737880
[19] 12.5418032 27.4686140</code></pre>
</div>
</div></li>
</ul>
</section>
<section id="transformation-of-independent-exponential-rvs" class="level2">
<h2 class="anchored" data-anchor-id="transformation-of-independent-exponential-rvs">Transformation of independent exponential RVs</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p>Revisit after joint notes:</p>
<div class="example">
<div class="ex-title">
<p>Example 1</p>
</div>
<div class="ex-cont">
<p>Let <span class="math inline">\(X_i \sim \textrm{Exp}(\lambda_i)\)</span> be independent RVs, for <span class="math inline">\(i=1 \ldots n\)</span>. Find the pdf for the first of the arrival times.</p>
</div>
</div>
</div>
</div>
</section>
</section>
<section id="chapter-33-gamma-rvs" class="level1">
<h1>Chapter 33: Gamma RVs</h1>
<section id="properties-of-gamma-rvs" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-gamma-rvs">Properties of gamma RVs</h2>
<ul>
<li><strong>Scenario:</strong> Modeling the time until the <span class="math inline">\(r^{th}\)</span> event.</li>
<li>Continuous analog to the Negative Binomial distribution</li>
<li>Shorthand: <span class="math inline">\(X \sim \text{Gamma}(r, \lambda)\)</span></li>
</ul>
<p><span class="math display">\[
f_X(x) = \dfrac{\lambda^r}{\Gamma(r)}x^{r-1} e^{-\lambda x}\text{ for } x&gt;0, \lambda&gt;0, \Gamma(r) = (r-1)!
\]</span></p>
<p><span class="math display">\[
F_X(x) = \left\{
        \begin{array}{ll}
            0 &amp; \quad x&lt;0 \quad \\
            1 - e^{-\lambda x}\displaystyle\sum_{j=0}^{r-1}\dfrac{(\lambda x)^j}{j!}  &amp; \quad x\geq0 \\
        \end{array}
    \right.
\]</span></p>
<p><span class="math display">\[\text{E}(X) = \dfrac{r}{\lambda}\text{, }\text{ Var}(X) = \dfrac{r}{\lambda^2}\]</span></p>
<p>Common to see <span class="math inline">\(\alpha = r\)</span> and <span class="math inline">\(\beta = \lambda\)</span></p>
</section>
<section id="identifying-gamma-rv-from-word-problems" class="level2">
<h2 class="anchored" data-anchor-id="identifying-gamma-rv-from-word-problems">Identifying gamma RV from word problems</h2>
<ul>
<li><p>Gamma distribution with <span class="math inline">\(r=1\)</span> is same as exponential</p>
<ul>
<li>Just like Negative Binomial with <span class="math inline">\(r=1\)</span> is same as the geometric distribution</li>
</ul></li>
<li><p>Similar to exponential</p>
<ul>
<li>Look for time between or until events/successes
<ul>
<li>BUT now we are measuring time until more than 1 success</li>
</ul></li>
<li>Look for a rate of the events over time period</li>
</ul></li>
</ul>
</section>
<section id="helpful-r-code-2" class="level2">
<h2 class="anchored" data-anchor-id="helpful-r-code-2">Helpful R code</h2>
<p>Let’s say we’re sitting at the bus stop, measuring the time until 4 buses arrive. We know the bus comes every 10 minutes on average.</p>
<ul>
<li>If we want to know the probability that the 4 buses arrive in the next 50 minutes:</li>
</ul>
<div class="columns">
<div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pgamma</span>(<span class="at">q =</span> <span class="dv">50</span>, <span class="at">rate =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>, <span class="at">shape =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7349741</code></pre>
</div>
</div>
</div><div class="column">
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pgamma</span>(<span class="at">q =</span> <span class="dv">50</span>, <span class="at">scale =</span> <span class="dv">10</span>, <span class="at">shape =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.7349741</code></pre>
</div>
</div>
</div>
</div>
<ul>
<li><p>If we want to know the time, say <span class="math inline">\(t\)</span>, where the probability of the 4 buses arriving at <span class="math inline">\(t\)</span> or earlier is 0.35:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qgamma</span>(<span class="at">p =</span> <span class="fl">0.35</span>, <span class="at">rate =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">10</span>, <span class="at">shape =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 29.87645</code></pre>
</div>
</div></li>
<li><p>If we want to know the probability that the 4 buses arrives between 30 and 50 minutes:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pgamma</span>(<span class="at">q =</span> <span class="dv">50</span>, <span class="at">scale =</span> <span class="dv">10</span>, <span class="at">shape =</span> <span class="dv">4</span>) <span class="sc">-</span> <span class="fu">pgamma</span>(<span class="at">q =</span> <span class="dv">30</span>, <span class="at">scale =</span> <span class="dv">10</span>, <span class="at">shape =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.382206</code></pre>
</div>
</div></li>
<li><p>If we want to sample 20 arrival times for the 4 buses:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rgamma</span>(<span class="at">n =</span> <span class="dv">20</span>, <span class="at">scale =</span> <span class="dv">10</span>, <span class="at">shape =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  54.747551  55.676098  50.641989  48.628563   7.398563  26.790619
 [7]  32.145748  29.368795  32.729944  35.771609  43.808196  43.929835
[13]  51.420173  56.847993  40.482057  12.111137  42.879689 111.300746
[19]  37.062525  52.664171</code></pre>
</div>
</div></li>
</ul>
</section>
<section id="remarks" class="level2">
<h2 class="anchored" data-anchor-id="remarks">Remarks</h2>
<ul>
<li><p>The parameter <span class="math inline">\(r\)</span> in a Gamma(<span class="math inline">\(r\)</span>,<span class="math inline">\(\lambda\)</span>) distribution does NOT need to be a positive integer</p>
<ul>
<li><span class="math inline">\(r\)</span> is usually a positive integer</li>
</ul></li>
<li><p>When <span class="math inline">\(r\)</span> is a positive integer, the distribution is sometimes called an Erlang(<span class="math inline">\(r\)</span>,<span class="math inline">\(\lambda\)</span>) distribution</p>
<p>&nbsp;</p>
<p>&nbsp;</p></li>
<li><p>When <span class="math inline">\(r\)</span> is any positive real number, we have a general gamma distribution that is usually instead parameterized by <span class="math inline">\(\alpha&gt;0\)</span> and <span class="math inline">\(\beta&gt;0\)</span>, where:</p>
<ul>
<li><p><span class="math inline">\(\alpha = \text{shape parameter}\)</span> : same as <span class="math inline">\(k\)</span>, the total number of events we must witness</p>
<ul>
<li>In R code example: 4 buses to wait for</li>
</ul></li>
<li><p><span class="math inline">\(\beta = \text{scale parameter}\)</span> : same as <span class="math inline">\(\lambda\)</span>, the rate parameter</p>
<ul>
<li>In R code example: 1 bus per 10 minutes (1/10)</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="sending-money-orders" class="level2">
<h2 class="anchored" data-anchor-id="sending-money-orders">Sending money orders</h2>
<div class="columns">
<div class="column" style="width:30%;">
<div class="example">
<div class="ex-title">
<p>Example 1</p>
</div>
<div class="ex-cont">
<p>On average, someone sends a money order once per 15 minutes. What is the probability someone sends 10 money orders in less than 3 hours?</p>
</div>
</div>
</div>
</div>
</section>
<section id="additional-resource" class="level2">
<h2 class="anchored" data-anchor-id="additional-resource">Additional Resource</h2>
<ul>
<li>Another helpful site with R code: <a href="https://rpubs.com/mpfoley73/459051" class="uri">https://rpubs.com/mpfoley73/459051</a></li>
</ul>
</section>
</section>
<section id="chapter-35-normal-rvs" class="level1">
<h1>Chapter 35: Normal RVs</h1>
<section id="properties-of-normal-rvs" class="level2">
<h2 class="anchored" data-anchor-id="properties-of-normal-rvs">Properties of Normal RVs</h2>
<ul>
<li><p>No scenario description here because the Normal distribution is so universal</p>
<ul>
<li>Central Limit Theorem (next class) makes it applicable to many types of events</li>
</ul></li>
<li><p>Shorthand: <span class="math inline">\(X \sim \text{Normal}(\mu, \sigma^2)\)</span></p></li>
</ul>
<p><span class="math display">\[
f_X(x) = \dfrac{1}{\sqrt{2\pi \sigma^2}}e^{-(x-\mu)^2/(2\sigma^2)} \text{, for} -inf &lt; x &lt; inf
\]</span></p>
<p><span class="math display">\[\text{E}(X) = \mu \]</span> <span class="math display">\[\text{Var}(X) = \sigma^2\]</span></p>
</section>
<section id="helpful-r-code-3" class="level2">
<h2 class="anchored" data-anchor-id="helpful-r-code-3">Helpful R code</h2>
<p>Let’s say we’re measuring the high temperature today. The average high temperature on this day across many, many years is 50 degrees with a standard deviation of 4 degrees.</p>
<ul>
<li><p>If we want to know the probability that the high temperature is below 45 degrees:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pnorm</span>(<span class="at">q =</span> <span class="dv">45</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1056498</code></pre>
</div>
</div></li>
<li><p>If we want to know the temoerature, say <span class="math inline">\(t\)</span>, where the probability of that the temperature is at <span class="math inline">\(t\)</span> or lower is 0.35:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qnorm</span>(<span class="at">p =</span> <span class="fl">0.35</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 48.45872</code></pre>
</div>
</div></li>
<li><p>If we want to know the probability that the temperature is between 45 and 50 degrees:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pnorm</span>(<span class="at">q =</span> <span class="dv">50</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">4</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="at">q =</span> <span class="dv">45</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.3943502</code></pre>
</div>
</div></li>
<li><p>If we want to sample 20 days’ temperature (over the years) from the distribution:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">20</span>, <span class="at">mean =</span> <span class="dv">50</span>, <span class="at">sd =</span> <span class="dv">4</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 44.20980 48.10194 51.66071 36.64423 47.60898 56.83969 52.72222 43.48835
 [9] 46.22541 51.48154 50.45066 45.36346 58.27313 51.57238 47.62438 54.47735
[17] 49.82309 52.20275 44.29908 51.06931</code></pre>
</div>
</div></li>
</ul>
</section>
<section id="movie-night-while-studying" class="level2">
<h2 class="anchored" data-anchor-id="movie-night-while-studying">Movie night while studying</h2>
<div class="columns">
<div class="column" style="width:37%;">
<div class="example">
<div class="ex-title">
<p>Example 1</p>
</div>
<div class="ex-cont">
<p>Children’s movies run an average of 98 minutes with a standard deviation of 10 minutes. You check out a random movie from the library to entertain your kids so you can study for your test. Assume that your kids will be occupied for the entire length of the movie.</p>
<ol type="a">
<li><p>What is the probability that your kids will be occupied for at least the 2 hours you would like to study?</p></li>
<li><p>What is range for the bottom quartile (lowest 25%) of time they will be occupied?</p></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="standard-normal-distribution" class="level2">
<h2 class="anchored" data-anchor-id="standard-normal-distribution">Standard Normal Distribution</h2>
<p><span class="math display">\[ Z \sim \text{Normal}(\mu = 0, \sigma^2 = 1)\]</span></p>
<ul>
<li><p>Used to be more helpful when computing was not as advanced</p>
<ul>
<li><p>Use tables of the standard normal</p></li>
<li><p>You can convert any normal distribution to a standard normal through transformation</p></li>
</ul></li>
<li><p><span class="math inline">\(Z = \dfrac{X - \mu_X}{\sigma_X}\)</span></p>
<ul>
<li><p>Comes from <span class="math inline">\(X = \sigma_X Z + \mu_X\)</span></p></li>
<li><p>Since <span class="math inline">\(\sigma_X\)</span> and <span class="math inline">\(\mu_X\)</span> are constants, then <span class="math inline">\(E(X) = \mu_X\)</span> and <span class="math inline">\(SD(X) = \sigma_X SD(Z) = \sigma_X\)</span></p></li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>